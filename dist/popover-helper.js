!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("popover-helper",[],e):"object"==typeof exports?exports["popover-helper"]=e():t["popover-helper"]=e()}(window,(function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),i.d(e,"toRect",(function(){return n})),i.d(e,"getElement",(function(){return r})),i.d(e,"getRect",(function(){return h})),i.d(e,"defaultPositions",(function(){return c})),i.d(e,"getDefaultPositions",(function(){return l})),i.d(e,"getBestPosition",(function(){return d}));const o=t=>("number"!=typeof t&&(t=parseFloat(t)),isNaN(t)&&(t=0),t=Math.round(t)),n=t=>t?{left:o(t.left),top:o(t.top),width:o(t.width),height:o(t.height)}:{left:0,top:0,width:0,height:0},r=t=>{if(null!==(e=t)&&9===e.nodeType)return t.body;var e;if("string"==typeof t){if("#"===t.substr(0,1))try{return document.getElementById(t.substr(1))}catch(t){}try{return document.querySelector(t)}catch(t){}}},h=t=>{if(!t)return n();if(null!=(e=t)&&e===e.window)return{left:0,top:0,width:window.innerWidth,height:window.innerHeight};var e;const i=r(t);if(!i)return n(t);const o=i.getBoundingClientRect(),h=n(o);return h.left+=window.pageXOffset,h.top+=window.pageYOffset,h.width=i.offsetWidth,h.height=i.offsetHeight,h},c={"bottom-center":{direction:"h",calculate:(t,e,i,o)=>{t.spacePosition=e.height-i.top-i.height-o.height,t.top=i.top+i.height,t.left=Math.round(i.left+.5*i.width-.5*o.width)}},"bottom-right":{direction:"h",calculate:(t,e,i,o)=>{t.spacePosition=e.height-i.top-i.height-o.height,t.top=i.top+i.height,t.left=Math.round(i.left+.5*i.width)}},"bottom-left":{direction:"h",calculate:(t,e,i,o)=>{t.spacePosition=e.height-i.top-i.height-o.height,t.top=i.top+i.height,t.left=Math.round(i.left+.5*i.width-o.width)}},"right-center":{direction:"v",calculate:(t,e,i,o)=>{t.spacePosition=e.width-i.left-i.width-o.width,t.top=Math.round(i.top+.5*i.height-.5*o.height),t.left=i.left+i.width}},"right-bottom":{direction:"v",calculate:(t,e,i,o)=>{t.spacePosition=e.width-i.left-i.width-o.width,t.top=Math.round(i.top+.5*i.height),t.left=i.left+i.width}},"right-top":{direction:"v",calculate:(t,e,i,o)=>{t.spacePosition=e.width-i.left-i.width-o.width,t.top=Math.round(i.top+.5*i.height-o.height),t.left=i.left+i.width}},"top-center":{direction:"h",calculate:(t,e,i,o)=>{t.spacePosition=i.top-o.height,t.top=i.top-o.height,t.left=Math.round(i.left+.5*i.width-.5*o.width)}},"top-right":{direction:"h",calculate:(t,e,i,o)=>{t.spacePosition=i.top-o.height,t.top=i.top-o.height,t.left=Math.round(i.left+.5*i.width)}},"top-left":{direction:"h",calculate:(t,e,i,o)=>{t.spacePosition=i.top-o.height,t.top=i.top-o.height,t.left=Math.round(i.left+.5*i.width-o.width)}},"left-center":{direction:"v",calculate:(t,e,i,o)=>{t.spacePosition=i.left-o.width,t.top=Math.round(i.top+.5*i.height-.5*o.height),t.left=i.left-o.width}},"left-bottom":{direction:"v",calculate:(t,e,i,o)=>{t.spacePosition=i.left-o.width,t.top=Math.round(i.top+.5*i.height),t.left=i.left-o.width}},"left-top":{direction:"v",calculate:(t,e,i,o)=>{t.spacePosition=i.left-o.width,t.top=Math.round(i.top+.5*i.height-o.height),t.left=i.left-o.width}}},l=()=>Object.keys(c),p=(t,e,i,o)=>{const n=i-t,r=t+e-(i+o);return Math.min(n,r)},a=(t,e,i,o,n,r,h)=>{const[c,l]=i.split("-");let a={...t,type:i,position:c,align:l,top:0,left:0,width:r.width,height:r.height,spacePosition:0,spaceAlign:0,priority:0,change:0,space:0,index:e};return a.calculate(a,o,n,r),delete a.calculate,a=((t,e)=>("h"===t.direction?t.spaceAlign+=p(e.left,e.width,t.left,t.width):t.spaceAlign+=p(e.top,e.height,t.top,t.height),t.space=Math.min(t.spacePosition,t.spaceAlign),t))(a,o),a=(t=>(t.spacePosition>=0&&(t.priority+=1),t.spaceAlign>=0&&(t.priority+=1),t))(a),a=((t,e)=>{if(!e)return t;if(t.type===e.type)return t;const i=t.left+.5*t.width,o=t.top+.5*t.height,n=e.left+.5*e.width,r=e.top+.5*e.height,h=Math.abs(i-n),c=Math.abs(o-r);return t.change=Math.round(Math.sqrt(h*h+c*c)),t})(a,h),a},d=(t,e,i,o,n)=>{const r=l();let h=!1,p=((t,e)=>{if(!t)return;t instanceof Array||(t=[t]);const i={};t.forEach(t=>{t=(""+t).trim().toLowerCase(),c[t]?i[t]=!0:t&&e.forEach(e=>{-1!==e.indexOf(t)&&(i[e]=!0)})});const o=Object.keys(i);return o.length?o:void 0})(o,r);p||(h=!0,p=r);const d=p.map((o,r)=>a(c[o],r,o,t,e,i,n));return d.sort((t,e)=>t.priority!==e.priority?e.priority-t.priority:n&&2===t.priority?t.change-e.change:h&&t.space!==e.space?e.space-t.space:t.index-e.index),d[0]}}])}));